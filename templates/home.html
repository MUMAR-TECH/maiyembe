{% extends 'base.html' %}

{% block content %}

<!-- Hero Slider -->
<div class="hero-slider swiper" id="home">
    <div class="swiper-wrapper">
        {% for image in slider_images %}
        <div class="swiper-slide" style="background-image: url('{{ image.image.url }}')">
            <div class="slide-overlay"></div>
            <div class="slide-content">
                <h1>{{ image.title }}</h1>
                <p>{{ image.subtitle }}</p>
                <a href="{{ image.link_url }}" class="btn">{{ image.button_text }}</a>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="swiper-pagination"></div>
</div>

<!-- About Section -->
<section class="about" id="about" style="padding: 100px 0; background: var(--bg-light);">
    <div class="container">
        <h2 class="section-title">{{ about.title }}</h2>
        <div class="about-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center;">
            <div class="about-text">
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 25px; color: var(--text-light);">{{ about.main_content }}</p>
                <h2 class="section-title">OUR MISSION</h2>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 25px; color: var(--text-light);">{{ about.secondary_content }}</p>
                <h2 class="section-title">OUR VISION</h2>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 35px; color: var(--text-light);">{{ about.additional_content }}</p>
                <a href="{{ about.button_url }}" class="btn">{{ about.button_text }}</a>
            </div>
            <div class="about-image" style="position: relative;">
                <img src="{{ about.image.url }}" alt="Maiyembe Office" style="width: 100%; border-radius: var(--border-radius); box-shadow: var(--shadow-heavy);">
                <div style="position: absolute; top: -20px; right: -20px; width: 100px; height: 100px; background: var(--primary-color); border-radius: 50%; z-index: -1;"></div>
                <div style="position: absolute; bottom: -20px; left: -20px; width: 80px; height: 80px; background: var(--secondary-color); border-radius: 50%; z-index: -1;"></div>
            </div>
        </div>
    </div>
</section>

<!-- Services Section -->
<section class="services-list" style="padding: 100px 0; background: var(--bg-lighter);">
    <div class="container">
        <h2 class="section-title">Our Services</h2>
        
        {% if services %}
            <div class="services-grid-modern" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 30px; margin: 40px 0;">
                {% for service in services %}
                <div class="service-card-modern" style="background: white; border-radius: var(--border-radius); overflow: hidden; box-shadow: var(--shadow-light); transition: var(--transition); position: relative;">
                    <div class="service-card-image" style="position: relative; height: 250px; overflow: hidden;">
                        <img src="{{ service.image.url }}" alt="{{ service.title }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s ease;">
                        <div class="service-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(193, 154, 107, 0.9) 0%, rgba(165, 130, 90, 0.9) 100%); opacity: 0; transition: all 0.4s ease; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 30px; text-align: center;">
                            <span class="service-category-badge" style="background: white; color: var(--primary-color); padding: 8px 16px; border-radius: 25px; font-size: 0.8rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 20px;">{{ service.get_category_display }}</span>
                            <div class="service-actions-hover" style="display: flex; gap: 15px; transform: translateY(20px); opacity: 0; transition: all 0.4s ease 0.1s;">
                                <a href="{% url 'core:service_detail' service.slug %}" class="btn-icon" title="View Details" style="width: 50px; height: 50px; border-radius: 50%; background: white; color: var(--primary-color); display: flex; align-items: center; justify-content: center; text-decoration: none; transition: var(--transition-fast); font-size: 1.1rem; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);">
                                    <i class="fas fa-eye"></i>
                                </a>
                                <a href="{% url 'core:submit_service_request' %}?service={{ service.id }}" class="btn-icon" title="Request Service" style="width: 50px; height: 50px; border-radius: 50%; background: white; color: var(--primary-color); display: flex; align-items: center; justify-content: center; text-decoration: none; transition: var(--transition-fast); font-size: 1.1rem; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);">
                                    <i class="fas fa-calendar-check"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="service-card-content" style="padding: 25px; position: relative;">
                        <h3 style="font-size: 1.4rem; font-weight: 700; color: var(--text-dark); margin-bottom: 12px; line-height: 1.3;">{{ service.title }}</h3>
                        <p style="color: var(--text-light); line-height: 1.6; margin-bottom: 20px; font-size: 0.95rem;">{{ service.short_description }}</p>
                        <div class="service-features-preview" style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 25px;">
                            {% for feature in service.features.all|slice:":3" %}
                            <span class="feature-tag" style="background: linear-gradient(135deg, #f8f5f0, #f0ebe4); color: #7d6852; padding: 6px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; display: flex; align-items: center; gap: 5px; transition: var(--transition-fast);">
                                <i class="fas fa-check-circle" style="color: var(--primary-color); font-size: 0.7rem;"></i> {{ feature.title }}
                            </span>
                            {% endfor %}
                            {% if service.features.count > 3 %}
                            <span class="feature-more" style="color: #999; font-size: 0.8rem; font-weight: 600; align-self: center;">+{{ service.features.count|add:"-3" }} more</span>
                            {% endif %}
                        </div>
                        <div class="service-card-footer" style="display: flex; justify-content: space-between; align-items: center; padding-top: 15px; border-top: 1px solid var(--border-color);">
                            <a href="{% url 'core:service_detail' service.slug %}" class="btn-text" style="color: var(--primary-color); text-decoration: none; font-weight: 700; display: flex; align-items: center; gap: 8px; transition: var(--transition-fast); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px;">
                                Learn More <i class="fas fa-arrow-right"></i>
                            </a>
                            <a href="{% url 'core:submit_service_request' %}?service={{ service.id }}" class="btn-primary-sm" style="background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); color: white; text-decoration: none; padding: 10px 20px; border-radius: 8px; font-size: 0.85rem; font-weight: 700; display: flex; align-items: center; gap: 8px; transition: var(--transition-fast); text-transform: uppercase; letter-spacing: 0.5px; box-shadow: 0 4px 15px rgba(193, 154, 107, 0.3);">
                                <i class="fas fa-paper-plane"></i> Request
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="no-services-modern" style="text-align: center; padding: 60px 30px; background: white; border-radius: 16px; box-shadow: var(--shadow-light); margin: 40px 0;">
                <div class="no-services-icon" style="font-size: 4rem; color: #e9ecef; margin-bottom: 20px;">
                    <i class="fas fa-clipboard-list"></i>
                </div>
                <h3 style="color: #333; margin-bottom: 15px; font-size: 1.5rem; font-weight: 700;">No services available</h3>
                <p style="color: #666; margin-bottom: 30px; font-size: 1.1rem;">Please check back later for our latest services.</p>
                <a href="{% url 'core:service_list' %}" class="btn">View All Services</a>
            </div>
        {% endif %}
    </div>
</section>

<!-- Gallery Section -->
<section class="gallery" id="gallery" style="padding: 100px 0; background: var(--bg-light);">
    <div class="container">
        <h2 class="section-title">OUR PROJECTS</h2>
        <div class="gallery-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
            {% if featured_projects %}
                {% for project in featured_projects %}
                <div class="gallery-item {% if forloop.counter == 1 or forloop.counter == 4 or forloop.counter == 7 %}landscape{% endif %}" style="position: relative; overflow: hidden; border-radius: var(--border-radius); height: 300px; grid-column: {% if forloop.counter == 1 or forloop.counter == 4 or forloop.counter == 7 %}span 2{% endif %};">
                    <a href="{% url 'projects:project_detail' project.slug %}" class="gallery-link" style="position: relative; display: block; width: 100%; height: 100%; overflow: hidden; text-decoration: none;">
                        <img src="{{ project.featured_image.url }}" alt="{{ project.title }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
                        <div class="gallery-overlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(231, 76, 60, 0.9) 0%, rgba(192, 57, 43, 0.9) 100%); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease; padding: 20px; text-align: center;">
                            <div class="gallery-content" style="color: white; transform: translateY(20px); transition: transform 0.3s ease;">
                                <h3 style="font-size: 1.2rem; margin-bottom: 10px; font-weight: 600;">{{ project.title }}</h3>
                                <p style="font-size: 0.9rem; margin-bottom: 15px; opacity: 0.9;">{{ project.location }}</p>
                                <span class="view-project-btn" style="background: white; color: #e74c3c; padding: 8px 15px; border-radius: 20px; font-weight: 600; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; transition: var(--transition-fast);">View Project</span>
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}
            {% else %}
                <p style="text-align: center; grid-column: 1 / -1; color: var(--text-light); font-size: 1.1rem;">No projects available at the moment.</p>
            {% endif %}
        </div>
        <div class="view-more-btn" style="text-align: center; margin-top: 50px;">
            <a href="{% url 'projects:project_list' %}" class="btn">VIEW ALL PROJECTS</a>
        </div>
    </div>
</section>

<!-- Blog Section -->
<section class="blog" id="blog" style="padding: 100px 0; background: var(--bg-lighter);">
    <div class="container">
        <h2 class="section-title">LATEST BLOG POSTS</h2>
        <div class="blog-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin-top: 40px;">
            {% for post in recent_posts %}
            <div class="blog-card" style="background: white; border-radius: var(--border-radius); overflow: hidden; box-shadow: var(--shadow-light); transition: var(--transition);">
                <div class="blog-image" style="height: 220px; overflow: hidden;">
                    <img src="{{ post.featured_image.url }}" alt="{{ post.title }}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
                </div>
                <div class="blog-content" style="padding: 25px;">
                    <div class="blog-meta" style="display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 0.85rem; color: var(--text-lighter);">
                        <span class="blog-date" style="display: flex; align-items: center; gap: 5px;"><i class="far fa-calendar-alt"></i> {{ post.publish_date|date:"F d, Y" }}</span>
                        <span class="blog-category" style="display: flex; align-items: center; gap: 5px;"><i class="far fa-folder"></i> {{ post.category.name }}</span>
                    </div>
                    <h3 style="font-size: 1.2rem; color: var(--text-dark); margin-bottom: 15px; font-weight: 700;">{{ post.title }}</h3>
                    <p style="margin-bottom: 20px; color: var(--text-light); line-height: 1.6;">{{ post.excerpt }}</p>
                    <a href="{% url 'blog:post_detail' post.slug %}" class="read-more" style="color: var(--primary-color); text-decoration: none; font-weight: 600; display: inline-flex; align-items: center; gap: 8px; transition: var(--transition-fast);">READ MORE <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="view-more-btn" style="text-align: center; margin-top: 50px;">
            <a href="{% url 'blog:blog_list' %}" class="btn">VIEW ALL BLOG POSTS</a>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials" style="padding: 100px 0; background: var(--bg-light);">
    <div class="container">
        <h2 class="section-title">CLIENT TESTIMONIALS</h2>
        <div class="testimonial-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 30px; margin-top: 40px;">
            {% for testimonial in testimonials %}
            <div class="testimonial-card" style="background: white; padding: 40px 30px; border-radius: var(--border-radius); box-shadow: var(--shadow-light); text-align: center; position: relative;">
                <p style="font-style: italic; margin-bottom: 20px; position: relative; font-size: 1.1rem; line-height: 1.8; color: var(--text-light);">"{{ testimonial.testimonial }}"</p>
                <div class="testimonial-author" style="font-weight: 700; color: var(--text-dark); text-transform: uppercase; letter-spacing: 1px;">{{ testimonial.client_name }}</div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Team Section -->
<section class="team" id="team" style="padding: 100px 0; background: var(--bg-lighter);">
    <div class="container">
        <h2 class="section-title">OUR LEADERSHIP TEAM</h2>
        <div class="team-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px; margin-top: 40px;">
            {% for member in leadership_team %}
            <div class="team-card" style="background: white; padding: 30px; border-radius: var(--border-radius); box-shadow: var(--shadow-light); transition: var(--transition); text-align: center;">
                <img src="{{ member.image.url }}" alt="{{ member.name }}" class="team-image" style="width: 180px; height: 180px; border-radius: 50%; object-fit: cover; margin: 0 auto 20px; display: block; border: 5px solid white; box-shadow: var(--shadow-medium);">
                <h3 style="font-size: 1.3rem; color: var(--text-dark); margin-bottom: 10px; font-weight: 700;">{{ member.name|upper }}</h3>
                <div class="team-position" style="color: var(--primary-color); margin-bottom: 15px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">{{ member.position }}</div>
                <p style="color: var(--text-light); line-height: 1.6;">{{ member.short_bio }}</p>
            </div>
            {% endfor %}
        </div>
        <div class="view-more-btn" style="text-align: center; margin-top: 50px;">
            <a href="{% url 'core:team' %}" class="btn">VIEW FULL TEAM</a>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="contact" id="contact" style="padding: 100px 0; background: var(--bg-light);">
    <div class="container">
        <h2 class="section-title">GET IN TOUCH</h2>
        <div class="contact-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px;">
            <div class="contact-info">
                <div class="contact-info-item" style="display: flex; align-items: flex-start; margin-bottom: 30px;">
                    <div class="contact-info-icon" style="width: 60px; height: 60px; background: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 20px; font-size: 1.3rem; flex-shrink: 0;">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <div class="contact-info-text">
                        <h4 style="color: var(--text-dark); font-size: 1.2rem; margin-bottom: 8px;">HEADQUARTERS</h4>
                        <p style="color: var(--text-light); margin-bottom: 5px;">Solwezi</p>
                        <p style="color: var(--text-light);">Zambia</p>
                    </div>
                </div>
                
                <div class="contact-info-item" style="display: flex; align-items: flex-start; margin-bottom: 30px;">
                    <div class="contact-info-icon" style="width: 60px; height: 60px; background: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 20px; font-size: 1.3rem; flex-shrink: 0;">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div class="contact-info-text">
                        <h4 style="color: var(--text-dark); font-size: 1.2rem; margin-bottom: 8px;">PHONE</h4>
                        <p style="color: var(--text-light); margin-bottom: 5px;">Main: <a href="tel:+260779838119" style="color: var(--primary-color); text-decoration: none;">+260-963632816</a></p>
                        <p style="color: var(--text-light);">Sales: <a href="tel:+260963632816" style="color: var(--primary-color); text-decoration: none;">+260-977294954</a></p>
                    </div>
                </div>
                
                <div class="contact-info-item" style="display: flex; align-items: flex-start; margin-bottom: 30px;">
                    <div class="contact-info-icon" style="width: 60px; height: 60px; background: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 20px; font-size: 1.3rem; flex-shrink: 0;">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <div class="contact-info-text">
                        <h4 style="color: var(--text-dark); font-size: 1.2rem; margin-bottom: 8px;">WHATSAPP</h4>
                        <p><a href="https://wa.me/260977294954?text=I'm%20interested%20in%20your%20services.%20Please%20contact%20me." target="_blank" style="color: var(--primary-color); text-decoration: none;">
                            Chat with us on WhatsApp
                        </a></p>
                    </div>
                </div>
                <div class="contact-info-item" style="display: flex; align-items: flex-start; margin-bottom: 30px;">
                    <div class="contact-info-icon" style="width: 60px; height: 60px; background: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 20px; font-size: 1.3rem; flex-shrink: 0;">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div class="contact-info-text">
                        <h4 style="color: var(--text-dark); font-size: 1.2rem; margin-bottom: 8px;">EMAIL</h4>
                        <p>
                            <a href="mailto:support@maiyembe.com" style="color: var(--primary-color); text-decoration: none;">
                                support@maiyembe.com
                            </a>
                        </p>
                    </div>
                </div>
                <div class="quick-contact-buttons" style="display: flex; gap: 15px; margin-top: 30px;">
                    <a href="tel:+260963632816" class="quick-btn phone-btn" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 25px; background: var(--primary-color); color: white; text-decoration: none; border-radius: 25px; font-weight: 600; transition: var(--transition-fast);">
                        <i class="fas fa-phone"></i> Call Now
                    </a>
                    <a href="https://wa.me/260977294954?text=I'm%20interested%20in%20your%20services.%20Please%20contact%20me." class="quick-btn whatsapp-btn" target="_blank" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 25px; background: #25D366; color: white; text-decoration: none; border-radius: 25px; font-weight: 600; transition: var(--transition-fast);">
                        <i class="fab fa-whatsapp"></i> WhatsApp
                    </a>
                </div>
            </div>
            
            <div class="contact-form" style="background: white; padding: 40px; border-radius: var(--border-radius); box-shadow: var(--shadow-medium);">
                <form method="post" action="{% url 'core:contact' %}">
                    {% csrf_token %}
                    <div style="margin-bottom: 20px;">
                        <input type="text" name="name" placeholder="Your Name" required style="width: 100%; padding: 15px; border: 1px solid var(--border-color); border-radius: var(--border-radius-sm); font-size: 1rem; transition: var(--transition-fast);">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <input type="email" name="email" placeholder="Your Email" required style="width: 100%; padding: 15px; border: 1px solid var(--border-color); border-radius: var(--border-radius-sm); font-size: 1rem; transition: var(--transition-fast);">
                    </div>
                    <div style="margin-bottom: 20px;">
                        <input type="text" name="subject" placeholder="Subject" required style="width: 100%; padding: 15px; border: 1px solid var(--border-color); border-radius: var(--border-radius-sm); font-size: 1rem; transition: var(--transition-fast);">
                    </div>
                    <div style="margin-bottom: 25px;">
                        <textarea name="message" placeholder="Your Message" required style="width: 100%; padding: 15px; border: 1px solid var(--border-color); border-radius: var(--border-radius-sm); font-size: 1rem; min-height: 150px; resize: vertical; transition: var(--transition-fast);"></textarea>
                    </div>
                    <button type="submit" class="btn" style="width: 100%; justify-content: center;">SEND MESSAGE</button>
                </form>
            </div>
        </div>
    </div>
</section>

<style>
    /* Hover effects for interactive elements */
    .service-card-modern:hover {
        transform: translateY(-10px);
        box-shadow: var(--shadow-heavy);
    }
    
    .service-card-modern:hover .service-overlay {
        opacity: 1;
    }
    
    .service-card-modern:hover .service-actions-hover {
        transform: translateY(0);
        opacity: 1;
    }
    
    .service-card-modern:hover .service-card-image img {
        transform: scale(1.1);
    }
    
    .blog-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-medium);
    }
    
    .blog-card:hover .blog-image img {
        transform: scale(1.1);
    }
    
    .team-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-medium);
    }
    
    .gallery-item:hover .gallery-overlay {
        opacity: 1;
    }
    
    .gallery-item:hover .gallery-content {
        transform: translateY(0);
    }
    
    .gallery-item:hover img {
        transform: scale(1.1);
    }
    
    .quick-btn:hover {
        transform: translateY(-3px);
        box-shadow: var(--shadow-light);
    }
    
    input:focus, textarea:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(193, 154, 107, 0.1);
    }

    /* Responsive adjustments */
    @media (max-width: 1200px) {
        .services-grid-modern {
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        }
        
        .team-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 992px) {
        .about-content {
            grid-template-columns: 1fr !important;
            gap: 40px !important;
        }
        
        .blog-grid {
            grid-template-columns: repeat(2, 1fr) !important;
        }
        
        .testimonial-grid {
            grid-template-columns: repeat(2, 1fr) !important;
        }
        
        .contact-content {
            grid-template-columns: 1fr !important;
            gap: 40px !important;
        }
    }

    @media (max-width: 768px) {
        .services-grid-modern {
            grid-template-columns: 1fr !important;
        }
        
        .gallery-grid {
            grid-template-columns: repeat(2, 1fr) !important;
        }
        
        .blog-grid {
            grid-template-columns: 1fr !important;
        }
        
        .testimonial-grid {
            grid-template-columns: 1fr !important;
        }
        
        .team-grid {
            grid-template-columns: 1fr !important;
        }
        
        .quick-contact-buttons {
            flex-direction: column;
        }
    }

    @media (max-width: 576px) {
        .gallery-grid {
            grid-template-columns: 1fr !important;
        }
        
        .gallery-item.landscape {
            grid-column: span 1 !important;
        }
    }
</style>

{% endblock %}